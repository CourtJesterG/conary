#
# Copyright (c) SAS Institute Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#


LoadModule ssl_module modules/mod_ssl.so
Listen 127.0.0.1:@PLAINPORT@

SSLSessionCache         shmcb:/var/cache/mod_ssl/scache(512000)
SSLSessionCacheTimeout  300
SSLMutex fcntl:ssl-cache.lock
SSLRandomSeed startup file:/dev/urandom  256
SSLRandomSeed connect builtin
SSLCryptoDevice builtin
<VirtualHost _default_:@PORT@>
    ServerName localhost
    SSLEngine on
    ErrorLog ssl_error_log
    TransferLog ssl_access_log
    SSLEngine on
    SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP
    SSLCertificateFile server.crt
    SSLCertificateKeyFile server.key
    SSLOptions +StdEnvVars

    DocumentRoot "@DOCROOT@"

    Alias / "@DOCROOT@/test.cnr/"

    <Directory />
        Options FollowSymLinks
        AllowOverride None
        AddHandler python-program .cnr
        PythonHandler @HANDLER@
    </Directory>
    TypesConfig /etc/mime.types
</VirtualHost>

<VirtualHost _default_:@PLAINPORT@>
    SSLEngine off
</VirtualHost>
